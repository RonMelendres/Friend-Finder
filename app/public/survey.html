<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Friend Finder</title>
    <!-- Latest compiled and minified CSS & JS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="https://code.jquery.com/jquery.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>

</head>

<body>

    <div class="container">
        <h1>Survey Questions</h1>
        <hr>
        <div>
            <h3><strong>About You</strong></h3>
            <br>

            <div class="form-group">
                <h4>Name (Required)</h4>
                <input class="form-control" type="text" id="name">
            </div>
            <br>

            <div class="form-group">
                <h4>Link to a Photo Image (Required)</h4>
                <input class="form-control" type="text" id="photo">
            </div>
            <br>

        </div>

        <hr>
        <div>
            <h5>Directions: For each question, choose a number between 1 and 5 with 1 being "Strongly Disagree" and 5
                being "Strongly Agree".</h5>
            <br>

            <h3><strong>Question 1</strong> </h3>
            <h4>Do you love food?</h4>
            <form>
                <div class="form-group">
                    <label for="exampleFormControlSelect1">Choose an option</label>
                    <select class="form-control" id="scores1">
                        <option>1</option>
                        <option>2</option>
                        <option>3</option>
                        <option>4</option>
                        <option>5</option>
                    </select>
                </div>
            </form>
        </div>
        <br>

        <div>
            <h3><strong>Question 2</strong> </h3>
            <h4>You prefer to be outdoors than inside?</h4>
            <form>
                <div class="form-group">
                    <label for="exampleFormControlSelect1">Choose an option</label>
                    <select class="form-control" id="scores2">
                        <option>1</option>
                        <option>2</option>
                        <option>3</option>
                        <option>4</option>
                        <option>5</option>
                    </select>
                </div>
            </form>
        </div>
        <br>

        <div>
            <h3><strong>Question 3</strong> </h3>
            <h4>Is the current state of the world ok for you?</h4>
            <form>
                <div class="form-group">
                    <label for="exampleFormControlSelect1">Choose an option</label>
                    <select class="form-control" id="scores3">
                        <option>1</option>
                        <option>2</option>
                        <option>3</option>
                        <option>4</option>
                        <option>5</option>
                    </select>
                </div>
            </form>
        </div>
        <br>

        <div>
            <h3><strong>Question 4</strong> </h3>
            <h4>You enjoy watching sports?</h4>
            <form>
                <div class="form-group">
                    <label for="exampleFormControlSelect1">Choose an option</label>
                    <select class="form-control" id="scores4">
                        <option>1</option>
                        <option>2</option>
                        <option>3</option>
                        <option>4</option>
                        <option>5</option>
                    </select>
                </div>
            </form>
        </div>
        <br>

        <div>
            <h3><strong>Question 5</strong> </h3>
            <h4>Is honesty important?</h4>
            <form>
                <div class="form-group">
                    <label for="exampleFormControlSelect1">Choose an option</label>
                    <select class="form-control" id="scores5">
                        <option>1</option>
                        <option>2</option>
                        <option>3</option>
                        <option>4</option>
                        <option>5</option>
                    </select>
                </div>
            </form>
        </div>
        <br>

        <div>
            <h3><strong>Question 6</strong> </h3>
            <h4>Does being in a group feel exhausting?</h4>
            <form>
                <div class="form-group">
                    <label for="exampleFormControlSelect1">Choose an option</label>
                    <select class="form-control" id="scores6">
                        <option>1</option>
                        <option>2</option>
                        <option>3</option>
                        <option>4</option>
                        <option>5</option>
                    </select>
                </div>
            </form>
        </div>
        <br>

        <div>
            <h3><strong>Question 7</strong> </h3>
            <h4>Do you prefer to lead a conversation?</h4>
            <form>
                <div class="form-group">
                    <label for="exampleFormControlSelect1">Choose an option</label>
                    <select class="form-control" id="scores7">
                        <option>1</option>
                        <option>2</option>
                        <option>3</option>
                        <option>4</option>
                        <option>5</option>
                    </select>
                </div>
            </form>
        </div>
        <br>

        <div>
            <h3><strong>Question 8</strong> </h3>
            <h4>Do you perform better under pressure?</h4>
            <form>
                <div class="form-group">
                    <label for="exampleFormControlSelect1">Choose an option</label>
                    <select class="form-control" id="scores8">
                        <option>1</option>
                        <option>2</option>
                        <option>3</option>
                        <option>4</option>
                        <option>5</option>
                    </select>
                </div>
            </form>
        </div>
        <br>

        <div>
            <h3><strong>Question 9</strong> </h3>
            <h4>Do you sleep in during the weekends?</h4>
            <form>
                <div class="form-group">
                    <label for="exampleFormControlSelect1">Choose an option</label>
                    <select class="form-control" id="scores9">
                        <option>1</option>
                        <option>2</option>
                        <option>3</option>
                        <option>4</option>
                        <option>5</option>
                    </select>
                </div>
            </form>
        </div>
        <br>

        <div>
            <h3><strong>Question 10</strong> </h3>
            <h4>Dogs are awesome...</h4>
            <form>
                <div class="form-group">
                    <label for="exampleFormControlSelect1">Choose an option</label>
                    <select class="form-control" id="scores10">
                        <option>1</option>
                        <option>2</option>
                        <option>3</option>
                        <option>4</option>
                        <option>5</option>
                    </select>
                </div>
            </form>
        </div>
        <br>

        <div>
            <button type="button" class="btn btn-secondary btn-lg" data-toggle="modal" data-target="#exampleModal">
                Submit</button>
            <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
                aria-hidden="true">
                <div class="modal-dialog" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="exampleModalLabel">Best Match</h5>
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </div>
                        <div class="modal-body" id="reveal-friend">
                            ...
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-dismiss="modal"
                                id="confirm">Close</button>

                        </div>
                    </div>
                </div>
            </div>
        </div>
        <hr>

        <div>
            <p>
                <a href="/api/friends"> API Friends List</a>
                |
                <a href="https://github.com/RonMelendres/Friend-Finder"> GitHub Repo</a>
            </p>
        </div>
    </div>

    <script type="text/javascript">

        $("#confirm").on("click", function (event) {
            event.preventDefault();

            var newFriends = {
                name: $("#name").val().trim(),
                photo: $("#photo").val().trim(),

                scores: [$("#scores1").val().trim(), $("#scores2").val().trim(), $("#scores3").val().trim(), $("#scores4").val().trim(), $("#scores5").val().trim(), $("#scores6").val().trim(), $("#scores7").val().trim(), $("#scores8").val().trim(), $("#scores9").val().trim(), $("#scores10").val().trim()]

            };

            $.post("/api/friends", newFriends)
                .then(function (data) {
                    console.log(data);

                });

            // Notes: Here are the steps that are supposed to happen after posting the new data in /api/friends. Everything that still needs work will go between this comment and the bottom script tag. Also there is only one hard coded data set in friends.js because was planning on doing that last.

            // Create a function that will convert "scores" in var newFriends from strings to integers. Also an alternative is to use a for loop rather than gathering the data from the questions individually. 
            // Use a get function to compare newFriends score to the api data scores. To compare all the data scores, you need a for loop to scan each data objects.
            // While the for loop scans the api data, we need math to determine the comparison score. We take the numbers from the newFriends data array and the arrays of the other scores (one by one) and get the difference of each index 0-9. 
                // If the numbers of same indexes are the same, that will equal 0.
                // If the numbers of the same indexes are different, we get the difference as a positive number. 
                // Next we add the differences and the lowest difference score is the users match.

            // To display friend when match is finished. This reveal is also activated when you hit the submit button.
            // When the modal shows up, the name and the picture from the link will show up. 
            
        });

    </script>
</body>